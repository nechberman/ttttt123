<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××¨×›×– ××‘×—×•×Ÿ ×•×ª××™×›×”</title>
    <style>
        :root {
            --bg: #0f172a; --card: #1e293b; --primary: #3b82f6;
            --text: #f8fafc; --muted: #94a3b8; --accent: #10b981; --error: #ef4444;
        }
        body { font-family: system-ui, sans-serif; background: var(--bg); color: var(--text); display: flex; justify-content: center; padding: 20px; margin: 0; }
        .container { max-width: 650px; width: 100%; }
        .card { background: var(--card); padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.05); }
        .header { text-align: center; margin-bottom: 30px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .stat-box { background: rgba(15, 23, 42, 0.5); padding: 15px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); }
        .stat-label { font-size: 12px; color: var(--muted); margin-bottom: 5px; }
        .stat-value { font-weight: bold; font-size: 16px; color: var(--accent); }
        .btn { display: inline-flex; align-items: center; justify-content: center; width: 100%; padding: 14px; margin-top: 10px; border: none; border-radius: 12px; background: var(--primary); color: white; font-size: 16px; font-weight: bold; cursor: pointer; text-decoration: none; transition: 0.2s; }
        .btn:disabled { background: #475569; cursor: not-allowed; }
        .btn-copy { background: #475569; font-size: 13px; }
        .speed-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px; }
        .speed-box { text-align: center; padding: 15px; background: rgba(59, 130, 246, 0.1); border-radius: 15px; border: 1px solid var(--primary); }
        .speed-val { font-size: 32px; font-weight: 800; color: var(--primary); }
        .progress-container { width: 100%; background: #334155; height: 8px; border-radius: 4px; margin-top: 10px; overflow: hidden; display: none; }
        .progress-bar { width: 0%; height: 100%; background: var(--accent); transition: width 0.3s; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>××¨×›×– ××‘×—×•×Ÿ ×•×ª××™×›×” ğŸ› ï¸</h1>
        <p style="color:var(--muted)">×‘×“×™×§×ª ××”×™×¨×•×ª, ×—×•××¨×” ×•×©×œ×™×˜×” ××¨×—×•×§</p>
    </div>

    <div class="card">
        <button class="btn" id="mainBtn" onclick="startFullTest()">ğŸš€ ×”×ª×—×œ ×‘×“×™×§×” ××§×™×¤×” (10 ×©× ×™×•×ª)</button>
        <div class="progress-container" id="pContainer"><div class="progress-bar" id="pBar"></div></div>

        <div id="results" style="display: none; margin-top: 20px;">
            <div class="speed-grid">
                <div class="speed-box">
                    <div class="stat-label">×”×•×¨×“×” (Download)</div>
                    <div id="downSpeed" class="speed-val">--</div>
                    <div style="font-size: 11px;">Mbps</div>
                </div>
                <div class="speed-box" style="border-color: var(--accent);">
                    <div class="stat-label">×”×¢×œ××” (Upload)</div>
                    <div id="upSpeed" class="speed-val" style="color: var(--accent);">--</div>
                    <div style="font-size: 11px;">Mbps</div>
                </div>
            </div>

            <div class="grid" style="margin-top: 20px;">
                <div class="stat-box"><div class="stat-label">IP ×¦×™×‘×•×¨×™</div><div class="stat-value" id="ip">×˜×•×¢×Ÿ...</div></div>
                <div class="stat-box"><div class="stat-label">××¢×¨×›×ª ×”×¤×¢×œ×”</div><div class="stat-value" id="os">--</div></div>
                <div class="stat-box"><div class="stat-label">RAM (×“×¤×“×¤×Ÿ)</div><div class="stat-value" id="ram">--</div></div>
                <div class="stat-box"><div class="stat-label">×œ×™×‘×•×ª ××¢×‘×“</div><div class="stat-value" id="cores">--</div></div>
            </div>
        </div>
    </div>

    <div class="card">
        <h3>×–×™×”×•×™ ×—×•××¨×” ××“×•×™×§ (×•×•×™× ×“×•×¡)</h3>
        <p style="font-size:13px; color:var(--muted)">×”×“×¤×“×¤×Ÿ ×—×•×¡× ×–×™×”×•×™ RAM ××¢×œ 8GB. ×”×©×ª××© ×‘×–×”:</p>
        <button class="btn btn-copy" onclick="copyCmd('powershell -command \"Get-CimInstance Win32_PhysicalMemory | Measure-Object -Property Capacity -Sum | ForEach-Object { [Math]::Round($_.Sum / 1GB, 2) }\"')">ğŸ“‹ ×”×¢×ª×§ ×¤×§×•×“×” ×œ×–×™×”×•×™ RAM ××“×•×™×§</button>
        <button class="btn btn-copy" onclick="copyCmd('msinfo32')" style="margin-top:8px">ğŸ“‹ ×”×¢×ª×§ ×¤×§×•×“×ª ××™×“×¢ ××¢×¨×›×ª ××œ×</button>
    </div>

    <div class="card">
        <h3>×”×ª×—×‘×¨×•×ª ××¨×—×•×§</h3>
        <div class="grid">
            <a href="https://download.anydesk.com/AnyDesk.exe" class="btn">AnyDesk</a>
            <a href="https://remotedesktop.google.com/support" target="_blank" class="btn" style="background:#ea4335">Chrome Remote</a>
        </div>
    </div>
</div>

<script>
    async function startFullTest() {
        const btn = document.getElementById('mainBtn');
        const pBar = document.getElementById('pBar');
        const pContainer = document.getElementById('pContainer');
        
        btn.disabled = true;
        pContainer.style.display = 'block';
        document.getElementById('results').style.display = 'block';
        
        // ×× ×™××¦×™×™×ª ×”×ª×§×“××•×ª ×œ-10 ×©× ×™×•×ª
        let progress = 0;
        const interval = setInterval(() => {
            progress += 1;
            pBar.style.width = progress + '%';
            if (progress >= 100) clearInterval(interval);
        }, 100);

        // ×”×¨×¦×ª ×‘×“×™×§×•×ª
        fetch('https://api.ipify.org?format=json').then(r => r.json()).then(d => document.getElementById('ip').innerText = d.ip);
        document.getElementById('ram').innerText = (navigator.deviceMemory || "×œ× ×™×“×•×¢") + " GB";
        document.getElementById('cores').innerText = navigator.hardwareConcurrency || "×œ× ×™×“×•×¢";
        document.getElementById('os').innerText = navigator.userAgent.includes("Win") ? "Windows" : "MacOS/Linux";

        // ×‘×“×™×§×ª ×”×•×¨×“×” (5 ×©× ×™×•×ª)
        const downMbps = await testDownload();
        document.getElementById('downSpeed').innerText = downMbps;

        // ×‘×“×™×§×ª ×”×¢×œ××” (5 ×©× ×™×•×ª)
        const upMbps = await testUpload();
        document.getElementById('upSpeed').innerText = upMbps;

        btn.disabled = false;
        btn.innerText = "×”×¤×¢×œ ×‘×“×™×§×” ××—×“×©";
    }

    async function testDownload() {
        const imageAddr = "https://upload.wikimedia.org/wikipedia/commons/4/47/PNG_transparency_demonstration_1.png?cache=" + Math.random();
        const downloadSize = 824599 * 5; // ×¡×™××•×œ×¦×™×” ×©×œ ×”×•×¨×“×” ×›×‘×“×” ×™×•×ª×¨
        const start = Date.now();
        for(let i=0; i<3; i++) await fetch(imageAddr); // ×”×•×¨×“×” ×—×•×–×¨×ª ×œ××“×™×“×” ×™×¦×™×‘×”
        const end = Date.now();
        const duration = (end - start) / 1000;
        return ((downloadSize * 8) / (duration * 1024 * 1024)).toFixed(2);
    }

    async function testUpload() {
        const data = new Uint8Array(2000000); // 2MB ×©×œ × ×ª×•× ×™ ×“××”
        const start = Date.now();
        try {
            await fetch('https://httpbin.org/post', { method: 'POST', body: data });
            const end = Date.now();
            const duration = (end - start) / 1000;
            return ((data.length * 8) / (duration * 1024 * 1024)).toFixed(2);
        } catch(e) { return "N/A"; }
    }

    function copyCmd(cmd) {
        navigator.clipboard.writeText(cmd);
        alert("×”×¤×§×•×“×” ×”×•×¢×ª×§×”!\n×”×§×© Win+R, ×”×“×‘×§ ×•×œ×—×¥ Enter.");
    }
</script>
</body>
</html>
